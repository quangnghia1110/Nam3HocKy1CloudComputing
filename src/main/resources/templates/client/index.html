<!DOCTYPE html>
<html lang="vi">
	<head>
		<div th:replace="~{client/fragments/header :: header}"></div>
	 	<div>
	 		<title>Trang chủ</title>
		    <meta name="keywords" content="">
		    <meta name="description" content="">
		    <meta name="author" content="">
	 	</div>
	</head>
 	<body>
	<script>
	  // JavaScript function to handle image loading error
	  function reloadImage(img, url) {
	    img.src = url;
	    img.removeAttribute('onerror'); // Optional: Remove onerror attribute after handling the error
	  }
	</script>
		<div th:replace="~{client/fragments/main-top :: mainTop}"></div>
		<!-- Start Slider -->
		    <div id="slides-shop" class="cover-slides">
		        <ul class="slides-container">
		            <li class="text-left">
		                <img th:src="@{/images/anh1.jpg}" alt="">
		                <div class="container">
		                    <div class="row">
		                        <div class="col-md-12">
		                            <h1 class="m-b-20"><strong>Chào mừng đến với <br> Shop laptop</strong></h1>
		                            <p><a class="btn hvr-hover" th:href="@{/shop/Tatca?page=1}">Mua hàng</a></p>
		                        </div>
		                    </div>
		                </div>
		            </li>
		            <li class="text-center">
		                <img th:src="@{/images/anh2.jpg}" alt="">
		                <div class="container">
		                    <div class="row">
		                        <div class="col-md-12">
		                            <h1 class="m-b-20"><strong>Chào mừng đến với <br> Shop laptop</strong></h1>
		                            <p><a class="btn hvr-hover" th:href="@{/shop/Tatca?page=1}">Mua hàng</a></p>
		                        </div>
		                    </div>
		                </div>
		            </li>
		            <li class="text-right">
		                <img th:src="@{/images/anh3.jpg}" alt="">
		                <div class="container">
		                    <div class="row">
		                        <div class="col-md-12">
		                            <h1 class="m-b-20"><strong>Chào mừng đến với <br> Shop laptop</strong></h1>
		                            <p><a class="btn hvr-hover" th:href="@{/shop/Tatca?page=1}">Mua hàng</a></p>
		                        </div>
		                    </div>
		                </div>
		            </li>
		        </ul>
		        <div class="slides-navigation">
		            <a href="#" class="next"><i class="fa fa-angle-right" aria-hidden="true"></i></a>
		            <a href="#" class="prev"><i class="fa fa-angle-left" aria-hidden="true"></i></a>
		        </div>
		    </div>
		    <!-- End Slider -->
		
		    <!-- Start Categories  -->
		    <div class="categories-shop">
		        <div class="container">
		            <div class="row">
		                <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12" th:each="category:${categories}">
		                    <div class="shop-cat-box">
		                        <img class="img-fluid" th:src="${category.image.thumbnailURL}" width="352px" length="352px" alt="" />
		                        <a class="btn hvr-hover" th:href="@{${'/shop/'+category.getDomain() + '?page=1' }}">[[${category.name}]]</a>
		                    </div>
		                </div>		            
		            </div>
		        </div>
		    </div>
		    <!-- End Categories -->
		
		    <!-- Start Products  -->
		    <div class="products-box">
		        <div class="container">
		            <div class="row">
		                <div class="col-lg-12">
		                    <div class="title-all text-center">
		                        <h1>Laptop hot</h1>
		                    </div>
		                </div>
		            </div>
		            <div class="row">
		                <div class="col-lg-12">
		                    <div class="special-menu text-center">
		                        <div class="button-group filter-button-group">
		                            <button class="active" data-filter="*">Tất cả</button>
		                            <button data-filter=".top-featured">Xu hướng</button>
		                            <button data-filter=".best-seller">Bán chạy</button>
		                        </div>
		                    </div>
		                </div>
		            </div>
		
		            <div class="row special-list">
		                <div class="col-lg-3 col-md-6 special-grid best-seller" th:each="item:${bestSeller}">
		                    <div class="products-single fix">
		                        <div class="box-img-hover">
		                            <div class="type-lb">
		                                <p class="sale">Còn bán</p>
		                            </div>
		                            <img th:if ="${item.image.title}" th:src="@{${'/uploads/laptops/'+item.image.title}}" class="img-fluid" 
		                            th:attr="onerror='reloadImage(this, \'' + ${item.image.url} + '\')'" />
									<img th:if ="${item.image.thumbnailName!=null && item.image.title == null }" th:src="@{${'/uploads/laptops/'+item.image.thumbnailName}}"
									class="img-fluid"
									th:attr="onerror='reloadImage(this, \'' + ${item.image.url} + '\')'"/>
		                            <div class="mask-icon">
		                                <ul>
		                                    <li><a th:href="@{/shop-detail(laptopId=${item.id})}" data-toggle="tooltip" data-placement="right" title="Chi tiết"><i class="fas fa-eye"></i></a></li>
		                                </ul>
		                                <a class="cart" th:href="@{/member/cart/add(laptopId=${item.id})}">Thêm vào giỏ hàng</a>
		                            </div>
		                        </div>
		                        <div class="why-text">
									<a th:href="@{/shop-detail(laptopId=${item.id})}">
										<h3><b>[[${item.title}]]</b></h3>
		                            	<h5><small>[[${item.price}]] VNĐ</small></h5>
									</a>
		                            
		                        </div>
		                    </div>
		                </div>
		                
		                <div class="col-lg-3 col-md-6 special-grid top-featured" th:each="item:${topFeatured}">
		                    <div class="products-single fix">
		                        <div class="box-img-hover">
		                            <div class="type-lb">
		                                <p class="sale">Còn bán</p>
		                            </div>
		                            <img th:if ="${item.image.title}" th:src="@{${'/uploads/laptops/'+item.image.title}}" class="img-fluid" 
		                            th:attr="onerror='reloadImage(this, \'' + ${item.image.url} + '\')'"/>
									<img th:if ="${item.image.thumbnailName!=null && item.image.title == null }" th:src="@{${'/uploads/laptops/'+item.image.thumbnailName}}"
									class="img-fluid"
									th:attr="onerror='reloadImage(this, \'' + ${item.image.url} + '\')'"/>
		                            <div class="mask-icon">
		                                <ul>
		                                    <li><a th:href="@{/shop-detail(laptopId=${item.id})}" data-toggle="tooltip" data-placement="right" title="Chi tiết"><i class="fas fa-eye"></i></a></li>
		                                </ul>
		                                <a class="cart" th:href="@{/member/cart/add(laptopId=${item.id})}">Thêm vào giỏ hàng</a>
		                            </div>
		                        </div>
		                        <div class="why-text">
									<a th:href="@{/shop-detail(laptopId=${item.id})}">
										<h3><b>[[${item.title}]]</b></h3>
		                            	<h5><small>[[${item.price}]] VNĐ</small></h5>
									</a>                  
		                        </div>
		                    </div>
		                </div>
		            </div>
		        </div>
		    </div>
		    <!-- End Products  -->
		
		    
		   
		    <!-- End Instagram Feed  -->
		    <footer>
 				<div th:replace="~{client/fragments/footer :: footer}"></div>
 			</footer>
 	</body>
</html>